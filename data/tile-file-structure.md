# ArcGIS 切片文件结构解析

## 一、切片文件结构节选

> 注意：ArcGIS 生成的切片存储格式有松散型（Exploded）和紧凑型(compact)两种。松散型存储格式中，切片文件保存格式为 png、jpg等，而紧凑型存储格式中，切片保存格式为 bundle 和 bunlex。此处以松散型为例。

```
MapTest
└── 图层
   ├── conf.cdi
   ├── conf.properties
   ├── Conf.xml
   ├── Status.gdb
   └── _alllayers
      ├── L00
      |  └── R00000000
      |  |  ├── C00000000.jpg
      |  |  └── C00000001.png
      ├── L01
      |  ├── R00000000
      |  |  ├── C00000000.jpg
      |  |  ├── C00000001.jpg
      |  |  ├── C00000002.jpg
      |  |  └── C00000003.png
      |  └── R00000001
      |     ├── C00000000.png
      |     ├── C00000001.png
      |     ├── C00000002.png
      |     └── C00000003.png
      ├── L02
      ├── L03
      |  ├── R00000000
      |     ├── C00000000.jpg
      |     ├── C00000001.jpg
      |     ├── C00000002.jpg
      |     ├── C00000003.jpg
      |     ├── C00000004.jpg
      |     ├── C00000005.jpg
      |     ├── C00000006.jpg
      |     ├── C00000007.jpg
      |     ├── C00000008.jpg
      |     ├── C00000009.jpg
      |     ├── C0000000a.jpg
      |     ├── C0000000b.jpg
      |     ├── C0000000c.jpg
      |     ├── C0000000d.jpg
      |     ├── C0000000e.jpg
      |     └── C0000000f.png
      ├── L04
      ├── L06
      └── L08
```

## 二、切片文件结构解析

### （1）先看第一级文件夹

- Conf.xml 这是切片方案文件，记录了切片的坐标系、范围、各个层级的比例尺、分辨率等。
- conf.cdi 内容是一些XML代码，主要记录切片范围。
- conf.properties 内容是一些XML代码。
- Status.gdb 主要记录切片完成情况。用 ArcMap 打开发现里面是四张表。
- _alllayers 切片文件夹

### （2）再看 _alllayers 文件夹

- L00 第 1 级切片
- L01 第 2 级切片

以此类推，L08 文件夹里面是第 9 级切片。

文件夹名称均以字母 L 开头，后接 2 位十进制数字。

L 应该取自英语单词 level, 表示层级的意思。

### （3）再看 L00、L01 等文件夹

这些文件夹里面包含的是另一些文件夹。文件夹均以字母 R 开头，后接 8 个数字。

R 应该是取自英语单词 row， 表示行的意思。

再细看其他文件夹会发现，字母 R 后面的数值是递增的，超过 9 以后就会以16进制来表示（出现数字和字母abcdef的组合)。

### （4）最后看 L01/R00000000、L03/R00000000 等文件夹

这些文件夹里面是一些图片文件，这些就是地图切片了，网页上展示的地图就是用这些图片拼接的。

这些图片文件名均以字母 C 开头，后接 8 个数字。

C 应该是取自英语单词 column， 表示列的意思。

细看可以发现字母 C 之后的数值是递增的，超过 9 以后就会以16进制来表示（出现数字和字母abcdef的组合)。

如果有兴趣统计一下，可以发现各级的切片文件数量依次为：
- 2
- 8
- 32
- 128

从第 2 级开始，每一级的切片数量是上一级的 4 倍。

（完）
